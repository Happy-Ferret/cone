// A test program in Cone that does nothing interesting

mut glowy = 34u32;
mut glo2 i32 = 7;

fn cone() u32 {
    mut unsy = 23;
    '\t';
    2.3e1;
    glowy = unsy;
    glo2 = glowy; // cast
    glowy; // Implicit return of global var's value
    bitfn(0x1a, 0x42);
    calc(4, 3); // Forward reference call
    fact(6);
}

fn bitfn(a u32, b u32) u32 {
    mut bin = a==0x1a;
    bin = b > 100u32;
    if a>4 {
      return b;
    }
    (a & bin | a ^ ~b).shl(1);
}

fn fact(nbr u32) u32 {
  mut result u32;
  if nbr {
    nbr*fact(nbr-1);
  } else {
    1.0;
  };
}

fn calc(mut a i32, b = 1) i32 {
  -a + (a+a)*b % b;
}
