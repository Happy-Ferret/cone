<html>
  <head>
	  <title>Allocator References - Cone Reference</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	  <link rel="stylesheet" type="text/css" href="standard.css" />
	</head>
  <body>
		<div id="header">
			<a href="/"><div id="title">Cone</div></a>
			<div id="sub">Allocator References</div>
		</div>

    <div class="text">

	<p>Allocator References are created and managed by a named allocator.
	An allocator reference can only ever point to a complete, allocated object.
	Allocator references preserve their allocator as part of their type.
	Allocator references are typically free from lifetime constraints.</p>
	<p>Use of a allocator reference typically focuses only on the object it references.
	In fact, a reference is often implicitly understood to just be a stand-in for the object it references.
	Strict safety rules ensure that references always refer to a valid object of the right type.</p>

	<h2>Allocator Reference Type Declarations</h2>
	<p>Similar to numbers and structures, references are value types.
	Mirroring the <span class="pre">&amp;</span> operator used to create a reference,
	an allocator reference declaration begins with <span class="pre">&amp;</span>,
	followed by the reference's allocator, permission (optional),
	and the value type of the object being referred to.</p>
<pre>
// reference's allocator is gc and permission is mut. Object's value type is Coord
imm ptr1 &amp;gc mut Coord
</pre>
	<p>The allocator must be specified for an allocator reference, otherwise it will be treated as a borrowed reference.
	The <span class="pre">uni</span> permission is the default given to an allocator reference when none is specified.
	This is the universal donor permission, allowing mutation and inter-thread movement, 
	but restricting aliasing to a single live reference.</p>
	<p>Due to type inference, explicit reference declarations are often unnecessary on most variable declarations. 
	However, function signatures require explicit declaration of references used as parameters or return values.</p>

	<h2>Allocator Reference Creation</h2>
	<p>TBD</p>
<pre>
imm rcref = &amp;rc mut Point{x: 4f, y: 3f}
</pre>


	
	<h2>Single Owner Allocators</h2>
	<h3>lex allocator</h3>
	<h3>arena allocator</h3>
	
	<h2>Shared reference Allocators</h2>
	<h3>rc allocator</h3>
	<h3>gc allocator</h3>
	
	<h2>Pools</h2>
	
	<p style="text-align: right; margin-top: 2em;">
		<a href="refptr.html"><img alt="_" src="next.png" /></a>
	</p>

	</div>
	</body>
</html>