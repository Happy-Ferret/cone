<html>
  <head>
	  <title>Expressions - Cone Reference</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	  <link rel="stylesheet" type="text/css" href="standard.css" />
	</head>
  <body>
		<div id="header">
			<a href="/"><div id="title">Cone</div></a>
			<div id="sub">Expressions</div>
		</div>

    <div class="text">

	<p>Expressions use operators, methods and functions calls to calculate new values using existing values.
	Although the arithmetic and logical expressions demonstrated below primarily use numbers for examples,
	similar looking expressions may be formulated that use values of other types.</p>
	
	<h2>Arithmetic expressions</h2>
	<h3 id="arithops">Arithmetic Operators</h3>
	<p>Integer and floating point numbers may be calculated using arithmetic operators:</p>
	<dl>
	<dt>'+'</dt>
	<dd>Add</dd>
	<dt>'-'</dt>
	<dd>Subtract (or negate when used as a prefix operator)</dd>
	<dt>'*'</dt>
	<dd>Multiply</dd>
	<dt>'/'</dt>
	<dd>Divide</dd>
	<dt>'%'</dt>
	<dd>Modulo (remainder)</dd>
	<dt>'**'</dt>
	<dd>Exponent (to the power of)</dd>
	</dl>
	<p>Thus:</p>
<pre>
-12 + 14    // 2
6 / 5       // 1
-4 % 3      // 2 (where -4/3 --> -2, rounding towards negative infinity)
2*2 + 2**3  // 12 (standard algebraic operator precedence)
2 * (4 + 1) // 10 (parentheses override operator precedence)
</pre>

	<h3>Arithmetic Assignment</h3>
	<p>The arithmetic assignment operators (e.g., '+=', '-=', '*=', '/=') offer a convenient way to modify a variable's current value:</p>
<pre>
counter = 3
counter += 1  // 4. Equivalent to: counter = counter + 1
</pre>

	<h3>Numeric methods</h3>
	<p>Additional numeric calculations can be performed using built-in methods.
	The name of the desired method follows the value, separated by a period ('.'):
<pre>
(-1).abs    // 1 (the absolute value, making a number positive)
(pi/2).sin  // 1.0 (trigonometric sine function)
</pre>
	<p>Sometimes, the method needs additional values.
	These are specified within parentheses following the method's name.</p>
<pre>
4.max(5)    // 5 (returns the larger of the two numbers)
</pre>
	<p>Methods are covered more thoroughly in a later chapter.
	For now, several characteristics are worth mentioning:</p>
	<ul>
	<li>The logic used for a method depends on the type of the value it is applied to (the value it follows).
	Thus, the method named 'max' applied to an integer is actually a different method than
	a method with the same name applied to a floating point number.
	Every type establishes the names of the methods it supports.
	An error results when trying to use a method not implemented by the value's type.</li>
	<li>The arithmetic operators introduced earlier (e.g., <span class="pre">+</span> for add)
	are implemented using methods of the number types:
<pre>
// The method name equivalent for the + operator is `+`
// The method name is enclosed in backticks since it includes punctuation
3+4   // is actually: 3.`+`(4)
</pre>
	<p>By implementing the arithmetic operators as methods, they become accessible to non-numeric types:</p>
<pre>
"a"+"b"  // "ab" (concatenation results when two strings are added)
</pre>
	<li>The method name for the negative operator is `-@` to distinguish it from `-`, the subtraction method.</li>
	</ul>
	
	<h4>Method Chaining</h4>
	<p>Method calls can be appended end-to-end.
	They are performed from left to right, with the return value of the first being used
	as the base value of the second, and so on.</p>
<pre>
// Handle when frosty is hit by the summer sun
frosty.jump(10).yell("Ow!").grow(0.9)
</pre>
	<p>Chaining depends on a convention where methods return 'self' when no other return value is expected.
	Thus, the value of frosty is effectively passed on to all three methods, making him jump, yell and shrink.</p>
	<p>A similar technique, method cascading, is also supported using
	<a href="refcollect.html">this blocks</a>. 
	Method cascading does not require that the cascaded methods return 'self'.</p>

	<h3>Numeric conversions</h3>
	
	<h2>Logical operators</h2>
		
		
	<p style="text-align: right; margin-top: 2em;">
		<a href="reffunc.html"><img alt="_" src="next.png" /></a>
	</p>
		
	</div>
	</body>
</html>